---
// Professional Warehouse Discovery Platform - County-Based Layout
import BaseLayout from '../layouts/BaseLayout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

// County-organized warehouse data
const countyData = {
  'Miami-Dade': [
    {
      id: 'doral-logistics-hub',
      title: 'Premium Logistics Hub',
      location: 'Doral',
      price: '$8.50',
      size: '25,000',
      image: '/images/uploads/warehouse1.png',
      features: ['Dock High', '32\' Clear', 'Highway Access'],
      available: true
    },
    {
      id: 'hialeah-distribution',
      title: 'Distribution Center',
      location: 'Hialeah',
      price: '$7.75',
      size: '35,000',
      image: '/images/uploads/warehouse2.png',
      features: ['Rail Access', 'Grade Level', 'Flex Space'],
      available: true
    },
    {
      id: 'medley-warehouse',
      title: 'Industrial Warehouse',
      location: 'Medley',
      price: '$9.25',
      size: '18,000',
      image: '/images/uploads/warehouse3.png',
      features: ['Heavy Power', 'Crane Ready', 'Secured Yard'],
      available: true
    },
    {
      id: 'miami-cold-storage',
      title: 'Cold Storage Facility',
      location: 'Miami',
      price: '$12.00',
      size: '40,000',
      image: '/images/uploads/warehouse4.png',
      features: ['Refrigerated', 'Food Grade', '24/7 Security'],
      available: true
    },
    {
      id: 'kendall-flex-space',
      title: 'Flex Industrial Space',
      location: 'Kendall',
      price: '$8.00',
      size: '22,000',
      image: '/images/uploads/warehouse1.png',
      features: ['Office Combo', 'Parking', 'Modern Build'],
      available: false
    }
  ],
  'Broward': [
    {
      id: 'pompano-logistics',
      title: 'Pompano Logistics Center',
      location: 'Pompano Beach',
      price: '$8.25',
      size: '45,000',
      image: '/images/uploads/warehouse2.png',
      features: ['Port Access', 'Dock High', 'Rail Spur'],
      available: true
    },
    {
      id: 'davie-warehouse',
      title: 'Davie Industrial Park',
      location: 'Davie',
      price: '$7.50',
      size: '28,000',
      image: '/images/uploads/warehouse3.png',
      features: ['Highway 95', 'Grade Level', 'Truck Courts'],
      available: true
    },
    {
      id: 'plantation-flex',
      title: 'Plantation Flex Building',
      location: 'Plantation',
      price: '$9.00',
      size: '15,000',
      image: '/images/uploads/warehouse4.png',
      features: ['Office Space', 'Modern HVAC', 'Parking'],
      available: true
    },
    {
      id: 'hollywood-distribution',
      title: 'Hollywood Distribution Hub',
      location: 'Hollywood',
      price: '$8.75',
      size: '32,000',
      image: '/images/uploads/warehouse1.png',
      features: ['Airport Access', 'Cross Dock', '30\' Clear'],
      available: true
    },
    {
      id: 'sunrise-manufacturing',
      title: 'Manufacturing Facility',
      location: 'Sunrise',
      price: '$10.50',
      size: '50,000',
      image: '/images/uploads/warehouse2.png',
      features: ['Heavy Power', '3-Phase', 'Crane Ready'],
      available: true
    }
  ],
  'Palm Beach': [
    {
      id: 'boca-tech-center',
      title: 'Boca Tech Center',
      location: 'Boca Raton',
      price: '$11.00',
      size: '20,000',
      image: '/images/uploads/warehouse3.png',
      features: ['Tech Ready', 'Fiber Optic', 'Class A'],
      available: true
    },
    {
      id: 'delray-logistics',
      title: 'Delray Logistics Hub',
      location: 'Delray Beach',
      price: '$9.50',
      size: '35,000',
      image: '/images/uploads/warehouse4.png',
      features: ['I-95 Access', 'Dock High', 'Flex Space'],
      available: true
    },
    {
      id: 'wellington-warehouse',
      title: 'Wellington Industrial',
      location: 'Wellington',
      price: '$8.25',
      size: '25,000',
      image: '/images/uploads/warehouse1.png',
      features: ['Turnpike Access', 'Grade Level', 'Parking'],
      available: true
    },
    {
      id: 'boynton-distribution',
      title: 'Boynton Distribution',
      location: 'Boynton Beach',
      price: '$7.75',
      size: '42,000',
      image: '/images/uploads/warehouse2.png',
      features: ['Port Access', 'Rail Ready', 'Cross Dock'],
      available: false
    },
    {
      id: 'west-palm-flex',
      title: 'West Palm Flex Center',
      location: 'West Palm Beach',
      price: '$10.25',
      size: '18,000',
      image: '/images/uploads/warehouse3.png',
      features: ['Downtown Access', 'Modern Build', 'LEED'],
      available: true
    }
  ]
};

// Calculate totals for each county
const countyStats = Object.entries(countyData).map(([county, properties]) => ({
  county,
  total: properties.length,
  available: properties.filter(p => p.available).length
}));
---

<BaseLayout
  title="Warehouse Space in South Florida | Shallow Bay Advisors"
  description="Find premium warehouse and industrial space across Miami-Dade, Broward, and Palm Beach counties. Professional commercial real estate brokerage services."
>
  <Navigation />

  <main class="pt-20">

    <!-- Compact Header & Search -->
    <section class="py-8 border-b border-gray-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- Page Title -->
        <div class="text-center mb-8">
          <h1 class="font-display text-3xl lg:text-4xl font-bold text-gray-900 mb-3">
            Find warehouse space in South Florida
          </h1>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            Professional commercial real estate across Miami-Dade, Broward, and Palm Beach counties
          </p>
        </div>

        <!-- Search Bar -->
        <div class="max-w-4xl mx-auto">
          <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-2">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-2">

              <!-- Location Filter -->
              <div class="relative">
                <select class="w-full p-4 rounded-lg border-0 bg-transparent text-sm font-medium text-gray-900 focus:outline-none cursor-pointer">
                  <option value="">All Counties</option>
                  <option value="miami-dade">Miami-Dade County</option>
                  <option value="broward">Broward County</option>
                  <option value="palm-beach">Palm Beach County</option>
                </select>
              </div>

              <!-- Property Type -->
              <div class="relative">
                <select class="w-full p-4 rounded-lg border-0 bg-transparent text-sm font-medium text-gray-900 focus:outline-none cursor-pointer">
                  <option value="">Property Type</option>
                  <option value="warehouse">Warehouse</option>
                  <option value="distribution">Distribution Center</option>
                  <option value="manufacturing">Manufacturing</option>
                  <option value="flex">Flex Space</option>
                  <option value="cold-storage">Cold Storage</option>
                </select>
              </div>

              <!-- Size Range -->
              <div class="relative">
                <select class="w-full p-4 rounded-lg border-0 bg-transparent text-sm font-medium text-gray-900 focus:outline-none cursor-pointer">
                  <option value="">Size Range</option>
                  <option value="0-10000">Under 10,000 SF</option>
                  <option value="10000-25000">10,000 - 25,000 SF</option>
                  <option value="25000-50000">25,000 - 50,000 SF</option>
                  <option value="50000+">50,000+ SF</option>
                </select>
              </div>

              <!-- Search Button -->
              <div class="flex items-center justify-center lg:justify-end">
                <button class="btn btn-primary rounded-lg w-full lg:w-auto px-8 py-4 flex items-center justify-center gap-2">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                  </svg>
                  Search
                </button>
              </div>

            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- County-Based Warehouse Listings -->
    {Object.entries(countyData).map(([county, properties]) => (
      <section class="py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

          <!-- County Header -->
          <div class="flex items-center justify-between mb-8">
            <div>
              <h2 class="font-display text-2xl lg:text-3xl font-semibold text-gray-900">
                Warehouses in {county} County
              </h2>
              <p class="text-gray-600 mt-1">
                {properties.filter(p => p.available).length} available properties
              </p>
            </div>
            <a
              href={`/warehouses?county=${county.toLowerCase().replace(' ', '-')}`}
              class="text-primary hover:text-primary-dark font-medium flex items-center gap-1 group"
            >
              Show all ({properties.length})
              <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </a>
          </div>

          <!-- Warehouse Grid - 5 per row on desktop -->
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">
            {properties.map((warehouse) => (
              <a
                href={`/warehouses/${warehouse.id}`}
                class="card overflow-hidden group block hover:shadow-xl transition-all duration-300"
              >

                <!-- Warehouse Image -->
                <div class="relative aspect-square overflow-hidden bg-gray-100">
                  <img
                    src={warehouse.image}
                    alt={warehouse.title}
                    class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                  />

                  <!-- Availability Badge -->
                  <div class="absolute top-3 left-3">
                    <span class={`px-2 py-1 rounded-full text-xs font-medium ${
                      warehouse.available
                        ? 'bg-green-100 text-green-800 border border-green-200'
                        : 'bg-gray-100 text-gray-700 border border-gray-200'
                    }`}>
                      {warehouse.available ? 'Available' : 'Leased'}
                    </span>
                  </div>

                  <!-- Save Button -->
                  <button class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 hover:bg-white p-2 rounded-full shadow-lg">
                    <svg class="w-4 h-4 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                    </svg>
                  </button>
                </div>

                <!-- Warehouse Details -->
                <div class="p-4">

                  <!-- Title & Location -->
                  <div class="mb-3">
                    <h3 class="font-semibold text-gray-900 mb-1 line-clamp-1">
                      {warehouse.title}
                    </h3>
                    <p class="text-sm text-gray-600">
                      {warehouse.location}, {county}
                    </p>
                  </div>

                  <!-- Features -->
                  <div class="flex items-center gap-1 mb-3">
                    {warehouse.features.slice(0, 2).map((feature) => (
                      <span class="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md font-medium">
                        {feature}
                      </span>
                    ))}
                    {warehouse.features.length > 2 && (
                      <span class="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md font-medium">
                        +{warehouse.features.length - 2}
                      </span>
                    )}
                  </div>

                  <!-- Pricing & Size -->
                  <div class="flex items-baseline justify-between">
                    <div>
                      <span class="font-semibold text-gray-900">{warehouse.price}/SF</span>
                      <span class="text-sm text-gray-500 ml-1">per year</span>
                    </div>
                    <span class="text-sm font-medium text-gray-700">{warehouse.size} SF</span>
                  </div>

                </div>

              </a>
            ))}
          </div>

        </div>
      </section>
    ))}

    <!-- Call to Action -->
    <section class="py-16 bg-gray-50">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="font-display text-3xl lg:text-4xl font-semibold text-gray-900 mb-6">
          Need help finding the perfect space?
        </h2>
        <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
          Our commercial real estate experts know South Florida's industrial market inside and out.
          Let us help you find exactly what your business needs.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/contact" class="btn btn-primary px-8 py-4">
            Speak with an Expert
          </a>
          <a href="/warehouses" class="btn btn-outline px-8 py-4">
            View All Listings
          </a>
        </div>
      </div>
    </section>

  </main>

  <Footer />
</BaseLayout>

<style>
  /* Professional warehouse card styling */
  .card {
    background: white;
    border-radius: 12px;
    border: 1px solid #E5E7EB;
    transition: all 0.3s ease;
    overflow: hidden;
  }

  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(30, 58, 95, 0.1);
    border-color: rgba(30, 58, 95, 0.2);
  }

  /* Line clamp utility */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Search bar styling */
  select:focus {
    outline: none;
    box-shadow: none;
  }

  /* Responsive grid adjustments */
  @media (min-width: 1536px) {
    .grid-cols-5 {
      grid-template-columns: repeat(5, minmax(0, 1fr));
    }
  }
</style>